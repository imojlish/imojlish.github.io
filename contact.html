<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Contact | Israt Mojlish</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="plugins/bulma/bulma.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="images/favicon.ico">
</head>

<body>

<!-- NAV -->
<nav class="navbar is-dark is-fixed-top">
  <div class="navbar-brand">
    <a class="navbar-item" href="index.html">Israt</a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-end">
      <a href="index.html" class="navbar-item">Home</a>
      <a href="contact.html" class="navbar-item is-active">Contact</a>
    </div>
  </div>
</nav>

<!-- CONTACT PAGE -->
<section class="section" style="margin-top:5rem">
  <div class="container">
    <h1 class="title has-text-centered">Contact Me</h1>

    <form class="formspree-form columns is-multiline is-centered"
          action="https://formspree.io/f/mykkgqnw"
          method="POST">

      <input type="text" name="_gotcha" style="display:none">

      <div class="column is-6">
        <input class="input" type="text" name="name" placeholder="Full Name" required>
      </div>

      <div class="column is-6">
        <input class="input" type="email" name="email" placeholder="Email Address" required>
      </div>

      <div class="column is-12">
        <textarea class="input" name="message" placeholder="Type your message" required></textarea>
      </div>

      <div class="column is-6">
        <button class="button is-primary is-fullwidth" type="submit">
          Send Message
        </button>
      </div>

    </form>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer has-background-dark has-text-white has-text-centered">
  Â© <script>document.write(new Date().getFullYear())</script> Israt Mojlish
</footer>

<!-- SAME SHARED SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll(".formspree-form").forEach(form => {
    form.addEventListener("submit", async e => {
      e.preventDefault();
      const btn = form.querySelector("button");
      btn.disabled = true;
      btn.textContent = "Sending...";

      try {
        const res = await fetch(form.action, {
          method: "POST",
          body: new FormData(form),
          headers: { "Accept": "application/json" }
        });

        if (res.ok) {
          window.location.href = "thanks.html";
        } else {
          alert("Failed to send message.");
        }
      } catch {
        alert("Network error.");
      } finally {
        btn.disabled = false;
        btn.textContent = "Send Message";
      }
    });
  });
});
</script>

</body>
</html>
